/*
 * Copyright 2014, General Dynamics C4 Systems
 *
 * This software may be distributed and modified according to the terms of
 * the GNU General Public License version 2. Note that NO WARRANTY is provided.
 * See "LICENSE_GPLv2.txt" for details.
 *
 * @TAG(GD_GPL)
 */

/*
 * Author: Wladislav Wiebe <wladislav.kw@gmail.com>
 *
 * Interrupt map for Keystone 2, http://www.ti.com/lit/ds/symlink/tci6638k2k.pdf
 * Kap 8.3, Table 8-23, page 95, System Event Mapping - ARM CorePac Interrupts
 * Note: Event No. 0 is identical to ARM GIC interrupt ID 0.
 */


#ifndef __PLAT_MACHINE_H
#define __PLAT_MACHINE_H

#include <config.h>

#define N_INTERRUPTS   (maxIRQ + 1)

enum IRQConstants {
	RSTMUX_INT8 = 0,
	RSTMUX_INT9 = 1,
	RSTMUX_INT10 = 2,
	RSTMUX_INT11 = 3,
	IPC_GR8 = 4,
	IPC_GR9 = 5,
	IPC_GR10 = 6,
	IPC_GR11 = 7,
	SEM_INT8 = 8,
	SEM_INT9 = 9,
	SEM_INT10 = 10,
	SEM_INT11 = 11,
	SEM_ERR8 = 12,
	SEM_ERR9 = 13,
	SEM_ERR10 = 14,
	SEM_ERR11 = 15,
	MSMC_MPF_ERROR8 = 16,
	MSMC_MPF_ERROR9 = 17,
	MSMC_MPF_ERROR10 = 18,
	MSMC_MPF_ERROR11 = 19,
	ARM_NPMUIRQ0 = 20,
	ARM_NPMUIRQ1 = 21,
	ARM_NPMUIRQ2 = 22,
	ARM_NPMUIRQ3 = 23,
	ARM_NINTERRIRQ = 24,
	ARM_NAXIERRIRQ = 25,
	PCIE_INT0 = 26,
	PCIE_INT1 = 27,
	PCIE_INT2 = 28,
	PCIE_INT3 = 29,
	PCIE_INT4 = 30,
	PCIE_INT5 = 31,
	PCIE_INT6 = 32,
	PCIE_INT7 = 33,
	PCIE_INT8 = 34,
	PCIE_INT9 = 35,
	PCIE_INT10 = 36,
	PCIE_INT11 = 37,
	PCIE_INT12 = 38,
	PCIE_INT13 = 39,
	QMSS_QUE_PEND_658 = 40,
	QMSS_QUE_PEND_659 = 41,
	QMSS_QUE_PEND_660 = 42,
	QMSS_QUE_PEND_661 = 43,
	QMSS_QUE_PEND_662 = 44,
	QMSS_QUE_PEND_663 = 45,
	QMSS_QUE_PEND_664 = 46,
	QMSS_QUE_PEND_665 = 47,
	QMSS_QUE_PEND_8704 = 48,
	QMSS_QUE_PEND_8705 = 49,
	QMSS_QUE_PEND_8706 = 50,
	QMSS_QUE_PEND_8707 = 51,
	QMSS_QUE_PEND_8708 = 52,
	QMSS_QUE_PEND_8709 = 53,
	QMSS_QUE_PEND_8710 = 54,
	QMSS_QUE_PEND_8711 = 55,
	QMSS_QUE_PEND_8712 = 56,
	QMSS_QUE_PEND_8713 = 57,
	QMSS_QUE_PEND_8714 = 58,
	QMSS_QUE_PEND_8715 = 59,
	QMSS_QUE_PEND_8716 = 60,
	QMSS_QUE_PEND_8717 = 61,
	QMSS_QUE_PEND_8718 = 62,
	QMSS_QUE_PEND_8719 = 63,
	QMSS_QUE_PEND_8720 = 64,
	QMSS_QUE_PEND_8721 = 65,
	QMSS_QUE_PEND_8722 = 66,
	QMSS_QUE_PEND_8723 = 67,
	QMSS_QUE_PEND_8724 = 68,
	QMSS_QUE_PEND_8725 = 69,
	QMSS_QUE_PEND_8726 = 70,
	QMSS_QUE_PEND_8727 = 71,
	QMSS_QUE_PEND_8728 = 72,
	QMSS_QUE_PEND_8729 = 73,
	QMSS_QUE_PEND_8730 = 74,
	QMSS_QUE_PEND_8731 = 75,
	QMSS_QUE_PEND_8732 = 76,
	QMSS_QUE_PEND_8733 = 77,
	QMSS_QUE_PEND_8734 = 78,
	QMSS_QUE_PEND_8735 = 79,
	TIMER_0_INTL = 80,
	TIMER_0_INTH = 81,
	TIMER_1_INTL = 82,
	TIMER_1_INTH = 83,
	TIMER_2_INTL = 84,
	TIMER_2_INTH = 85,
	TIMER_3_INTL = 86,
	TIMER_3_INTH = 87,
	TIMER_4_INTL = 88,
	TIMER_4_INTH = 89,
	TIMER_5_INTL = 90,
	TIMER_5_INTH = 91,
	TIMER_6_INTL = 92,
	TIMER_6_INTH = 93,
	TIMER_7_INTL = 94,
	TIMER_7_INTH = 95,
	TIMER_8_INTL = 96,
	TIMER_8_INTH = 97,
	TIMER_9_INTL = 98,
	TIMER_9_INTH = 99,
	TIMER_10_INTL = 100,
	TIMER_10_INTH = 101,
	TIMER_11_INTL = 102,
	TIMER_11_INTH = 103,
	TIMER_12_INTL = 104,
	TIMER_12_INTH = 105,
	TIMER_13_INTL = 106,
	TIMER_13_INTH = 107,
	TIMER_14_INTL = 108,
	TIMER_14_INTH = 109,
	TIMER_15_INTL = 110,
	TIMER_15_INTH = 111,
	TIMER_16_INTL = 112,
	TIMER_16_INTH = 113,
	TIMER_17_INTL = 114,
	TIMER_17_INTH = 115,
	TIMER_18_INTL = 116,
	TIMER_18_INTH = 117,
	TIMER_19_INTL = 118,
	TIMER_19_INTH = 119,
	GPIO_INT0 = 120,
	GPIO_INT1 = 121,
	GPIO_INT2 = 122,
	GPIO_INT3 = 123,
	GPIO_INT4 = 124,
	GPIO_INT5 = 125,
	GPIO_INT6 = 126,
	GPIO_INT7 = 127,
	GPIO_INT8 = 128,
	GPIO_INT9 = 129,
	GPIO_INT10 = 130,
	GPIO_INT11 = 131,
	GPIO_INT12 = 132,
	GPIO_INT13 = 133,
	GPIO_INT14 = 134,
	GPIO_INT15 = 135,
	GPIO_INT16 = 136,
	GPIO_INT17 = 137,
	GPIO_INT18 = 138,
	GPIO_INT19 = 139,
	GPIO_INT20 = 140,
	GPIO_INT21 = 141,
	GPIO_INT22 = 142,
	GPIO_INT23 = 143,
	GPIO_INT24 = 144,
	GPIO_INT25 = 145,
	GPIO_INT26 = 146,
	GPIO_INT27 = 147,
	GPIO_INT28 = 148,
	GPIO_INT29 = 149,
	GPIO_INT30 = 150,
	GPIO_INT31 = 151,
	SRIO_INT00 = 152,
	SRIO_INT01 = 153,
	SRIO_INT02 = 154,
	SRIO_INT03 = 155,
	SRIO_INT04 = 156,
	SRIO_INT05 = 157,
	SRIO_INT06 = 158,
	SRIO_INT07 = 159,
	SRIO_INT08 = 160,
	SRIO_INT09 = 161,
	SRIO_INT10 = 162,
	SRIO_INT11 = 163,
	SRIO_INT12 = 164,
	SRIO_INT13 = 165,
	SRIO_INT14 = 166,
	SRIO_INT15 = 167,
	SRIO_INT16 = 168,
	SRIO_INT17 = 169,
	SRIO_INT18 = 170,
	SRIO_INT19 = 171,
	SRIO_INT20 = 172,
	SRIO_INT21 = 173,
	SRIO_INT22 = 174,
	SRIO_INT23 = 175,
	SRIO_INT_PKTDMA_0 = 176,
	QMSS_INTD_1_PKTDMA_0 = 177,
	QMSS_INTD_1_PKTDMA_1 = 178,
	QMSS_INTD_1_HIGH_0 = 179,
	QMSS_INTD_1_HIGH_1 = 180,
	QMSS_INTD_1_HIGH_2 = 181,
	QMSS_INTD_1_HIGH_3 = 182,
	QMSS_INTD_1_HIGH_4 = 183,
	QMSS_INTD_1_HIGH_5 = 184,
	QMSS_INTD_1_HIGH_6 = 185,
	QMSS_INTD_1_HIGH_7 = 186,
	QMSS_INTD_1_HIGH_8 = 187,
	QMSS_INTD_1_HIGH_9 = 188,
	QMSS_INTD_1_HIGH_10 = 189,
	QMSS_INTD_1_HIGH_11 = 190,
	QMSS_INTD_1_HIGH_12 = 191,
	QMSS_INTD_1_HIGH_13 = 192,
	QMSS_INTD_1_HIGH_14 = 193,
	QMSS_INTD_1_HIGH_15 = 194,
	QMSS_INTD_1_HIGH_16 = 195,
	QMSS_INTD_1_HIGH_17 = 196,
	QMSS_INTD_1_HIGH_18 = 197,
	QMSS_INTD_1_HIGH_19 = 198,
	QMSS_INTD_1_HIGH_20 = 199,
	QMSS_INTD_1_HIGH_21 = 200,
	QMSS_INTD_1_HIGH_22 = 201,
	QMSS_INTD_1_HIGH_23 = 202,
	QMSS_INTD_1_HIGH_24 = 203,
	QMSS_INTD_1_HIGH_25 = 204,
	QMSS_INTD_1_HIGH_26 = 205,
	QMSS_INTD_1_HIGH_27 = 206,
	QMSS_INTD_1_HIGH_28 = 207,
	QMSS_INTD_1_HIGH_29 = 208,
	QMSS_INTD_1_HIGH_30 = 209,
	QMSS_INTD_1_HIGH_31 = 210,
	QMSS_INTD_1_LOW_0 = 211,
	QMSS_INTD_1_LOW_1 = 212,
	QMSS_INTD_1_LOW_2 = 213,
	QMSS_INTD_1_LOW_3 = 214,
	QMSS_INTD_1_LOW_4 = 215,
	QMSS_INTD_1_LOW_5 = 216,
	QMSS_INTD_1_LOW_6 = 217,
	QMSS_INTD_1_LOW_7 = 218,
	QMSS_INTD_1_LOW_8 = 219,
	QMSS_INTD_1_LOW_9 = 220,
	QMSS_INTD_1_LOW_10 = 221,
	QMSS_INTD_1_LOW_11 = 222,
	QMSS_INTD_1_LOW_12 = 223,
	QMSS_INTD_1_LOW_13 = 224,
	QMSS_INTD_1_LOW_14 = 225,
	QMSS_INTD_1_LOW_15 = 226,
	QMSS_INTD_2_PKTDMA_0 = 227,
	QMSS_INTD_2_PKTDMA_1 = 228,
	QMSS_INTD_2_HIGH_0 = 229,
	QMSS_INTD_2_HIGH_1 = 230,
	QMSS_INTD_2_HIGH_2 = 231,
	QMSS_INTD_2_HIGH_3 = 232,
	QMSS_INTD_2_HIGH_4 = 233,
	QMSS_INTD_2_HIGH_5 = 234,
	QMSS_INTD_2_HIGH_6 = 235,
	QMSS_INTD_2_HIGH_7 = 236,
	QMSS_INTD_2_HIGH_8 = 237,
	QMSS_INTD_2_HIGH_9 = 238,
	QMSS_INTD_2_HIGH_10 = 239,
	QMSS_INTD_2_HIGH_11 = 240,
	QMSS_INTD_2_HIGH_12 = 241,
	QMSS_INTD_2_HIGH_13 = 242,
	QMSS_INTD_2_HIGH_14 = 243,
	QMSS_INTD_2_HIGH_15 = 244,
	QMSS_INTD_2_HIGH_16 = 245,
	QMSS_INTD_2_HIGH_17 = 246,
	QMSS_INTD_2_HIGH_18 = 247,
	QMSS_INTD_2_HIGH_19 = 248,
	QMSS_INTD_2_HIGH_20 = 249,
	QMSS_INTD_2_HIGH_21 = 250,
	QMSS_INTD_2_HIGH_22 = 251,
	QMSS_INTD_2_HIGH_23 = 252,
	QMSS_INTD_2_HIGH_24 = 253,
	QMSS_INTD_2_HIGH_25 = 254,
	QMSS_INTD_2_HIGH_26 = 255,
	QMSS_INTD_2_HIGH_27 = 256,
	QMSS_INTD_2_HIGH_28 = 257,
	QMSS_INTD_2_HIGH_29 = 258,
	QMSS_INTD_2_HIGH_30 = 259,
	QMSS_INTD_2_HIGH_31 = 260,
	QMSS_INTD_2_LOW_0 = 261,
	QMSS_INTD_2_LOW_1 = 262,
	QMSS_INTD_2_LOW_2 = 263,
	QMSS_INTD_2_LOW_3 = 264,
	QMSS_INTD_2_LOW_4 = 265,
	QMSS_INTD_2_LOW_5 = 266,
	QMSS_INTD_2_LOW_6 = 267,
	QMSS_INTD_2_LOW_7 = 268,
	QMSS_INTD_2_LOW_8 = 269,
	QMSS_INTD_2_LOW_9 = 270,
	QMSS_INTD_2_LOW_10 = 271,
	QMSS_INTD_2_LOW_11 = 272,
	QMSS_INTD_2_LOW_12 = 273,
	QMSS_INTD_2_LOW_13 = 274,
	QMSS_INTD_2_LOW_14 = 275,
	QMSS_INTD_2_LOW_15 = 276,
	UART_0_UARTINT = 277,
	UART_0_URXEVT = 278,
	UART_0_UTXEVT = 279,
	UART_1_UARTINT = 280,
	UART_1_URXEVT = 281,
	UART_1_UTXEVT = 282,
	I2C_0_INT = 283,
	I2C_0_REVT = 284,
	I2C_0_XEVT = 285,
	I2C_1_INT = 286,
	I2C_1_REVT = 287,
	I2C_1_XEVT = 288,
	I2C_2_INT = 289,
	I2C_2_REVT = 290,
	I2C_2_XEVT = 291,
	SPI_0_INT0 = 292,
	SPI_0_INT1 = 293,
	SPI_0_XEVT = 294,
	SPI_0_REVT = 295,
	SPI_1_INT0 = 296,
	SPI_1_INT1 = 297,
	SPI_1_XEVT = 298,
	SPI_1_REVT = 299,
	SPI_2_INT0 = 300,
	SPI_2_INT1 = 301,
	SPI_2_XEVT = 302,
	SPI_2_REVT = 303,
	DBGTBR_DMAINT = 304,
	DBGTBR_ACQCOMP = 305,
	ARM_TBR_DMA = 306,
	ARM_TBR_ACQ = 307,
	NETCP_MDIO_LINK_INT0 = 308,
	NETCP_MDIO_LINK_INT1 = 309,
	NETCP_MDIO_USER_INT0 = 310,
	NETCP_MDIO_USER_INT1 = 311,
	NETCP_MISC_INT = 312,
	NETCP_PKTDMA_INT0 = 313,
	EDMACC_0_GINT = 314,
	EDMACC_0_TC_0_INT = 315,
	EDMACC_0_TC_1_INT = 316,
	EDMACC_0_TC_2_INT = 317,
	EDMACC_0_TC_3_INT = 318,
	EDMACC_0_TC_4_INT = 319,
	EDMACC_0_TC_5_INT = 320,
	EDMACC_0_TC_6_INT = 321,
	EDMACC_0_TC_7_INT = 322,
	EDMACC_1_GINT = 323,
	EDMACC_1_TC_0_INT = 324,
	EDMACC_1_TC_1_INT = 325,
	EDMACC_1_TC_2_INT = 326,
	EDMACC_1_TC_3_INT = 327,
	EDMACC_1_TC_4_INT = 328,
	EDMACC_1_TC_5_INT = 329,
	EDMACC_1_TC_6_INT = 330,
	EDMACC_1_TC_7_INT = 331,
	EDMACC_2_GINT = 332,
	EDMACC_2_TC_0_INT = 333,
	EDMACC_2_TC_1_INT = 334,
	EDMACC_2_TC_2_INT = 335,
	EDMACC_2_TC_3_INT = 336,
	EDMACC_2_TC_4_INT = 337,
	EDMACC_2_TC_5_INT = 338,
	EDMACC_2_TC_6_INT = 339,
	EDMACC_2_TC_7_INT = 340,
	EDMACC_3_GINT = 341,
	EDMACC_3_TC_0_INT = 342,
	EDMACC_3_TC_1_INT = 343,
	EDMACC_3_TC_2_INT = 344,
	EDMACC_3_TC_3_INT = 345,
	EDMACC_3_TC_4_INT = 346,
	EDMACC_3_TC_5_INT = 347,
	EDMACC_3_TC_6_INT = 348,
	EDMACC_3_TC_7_INT = 349,
	EDMACC_4_GINT = 350,
	EDMACC_4_TC_0_INT = 351,
	EDMACC_4_TC_1_INT = 352,
	EDMACC_4_TC_2_INT = 353,
	EDMACC_4_TC_3_INT = 354,
	EDMACC_4_TC_4_INT = 355,
	EDMACC_4_TC_5_INT = 356,
	EDMACC_4_TC_6_INT = 357,
	EDMACC_4_TC_7_INT = 358,
	SR_0_PO_VCON_SMPSERR_INT = 359,
	SR_0_SMARTREFLEX_INTREQ0 = 360,
	SR_0_SMARTREFLEX_INTREQ1 = 361,
	SR_0_SMARTREFLEX_INTREQ2 = 362,
	SR_0_SMARTREFLEX_INTREQ3 = 363,
	SR_0_VPNOSMPSACK = 364,
	SR_0_VPEQVALUE = 365,
	SR_0_VPMAXVDD = 366,
	SR_0_VPMINVDD = 367,
	SR_0_VPINIDLE = 368,
	SR_0_VPOPPCHANGEDONE = 369,
	SR_0_VPSMPSACK = 370,
	SR_0_SR_TEMPSENSOR = 371,
	SR_0_SR_TIMERINT = 372,
	SR_1_PO_VCON_SMPSERR_INT = 373,
	SR_1_SMARTREFLEX_INTREQ0 = 374,
	SR_1_SMARTREFLEX_INTREQ1 = 375,
	SR_1_SMARTREFLEX_INTREQ2 = 376,
	SR_1_SMARTREFLEX_INTREQ3 = 377,
	SR_1_VPNOSMPSACK = 378,
	SR_1_VPEQVALUE = 379,
	SR_1_VPMAXVDD = 380,
	SR_1_VPMINVDD = 381,
	SR_1_VPINIDLE = 382,
	SR_1_VPOPPCHANGEDONE = 383,
	SR_1_VPSMPSACK = 384,
	SR_1_SR_TEMPSENSOR = 385,
	SR_1_SR_TIMERINT = 386,
	HyperLink_0_INT = 387,
	HyperLink_1_INT = 388,
	ARM_NCTIIRQ0 = 389,
	ARM_NCTIIRQ1 = 390,
	ARM_NCTIIRQ2 = 391,
	ARM_NCTIIRQ3 = 392,
	USB_INT00 = 393,
	USB_INT01 = 394,
	USB_INT02 = 395,
	USB_INT03 = 396,
	USB_INT04 = 397,
	USB_OABSINT = 398,
	USB_MISCINT = 399,
	//Reserved = 400,
	//Reserved = 401,
	tenGbE_LINK_INT0 = 402,
	tenGbE_USER_INT0 = 403,
	tenGbE_LINK_INT1 = 404,
	tenGbE_USER_INT1 = 405,
	tenGbE_MISC_INT = 406,
	tenGbE_INT_PKTDMA_0 = 407,
	AIF_ATEVT0 = 408,
	AIF_ATEVT1 = 409,
	AIF_ATEVT2 = 410,
	AIF_ATEVT3 = 411,
	AIF_ATEVT4 = 412,
	AIF_ATEVT5 = 413,
	AIF_ATEVT6 = 414,
	AIF_ATEVT7 = 415,
	AIF_ATEVT16 = 416,
	AIF_ATEVT17 = 417,
	AIF_ATEVT18 = 418,
	AIF_ATEVT19 = 419,
	AIF_ATEVT20 = 420,
	AIF_ATEVT21 = 421,
	AIF_ATEVT22 = 422,
	AIF_ATEVT23 = 423,
	USIM_PONIRQ = 424,
	USIM_RREQ = 425,
	USIM_WREQ = 426,
	RAC_0_INT = 427,
	RAC_1_INT = 428,
	RAC_2_INT = 429,
	RAC_3_INT = 430,
	TAC_INT = 431,
	//Reserved = 432,
	//Reserved = 433,
	//Reserved = 434,
	//Reserved = 435,
	//Reserved = 436,
	//Reserved = 437,
	//Reserved = 438,
	//Reserved = 439,
	//Reserved = 440,
	//Reserved = 441,
	//Reserved = 442,
	//Reserved = 443,
	//Reserved = 444,
	//Reserved = 445,
	//Reserved = 446,
	//Reserved = 447,
	CIC_2_OUT29 = 448,
	CIC_2_OUT30 = 449,
	CIC_2_OUT31 = 450,
	CIC_2_OUT32 = 451,
	CIC_2_OUT33 = 452,
	CIC_2_OUT34 = 453,
	CIC_2_OUT35 = 454,
	CIC_2_OUT36 = 455,
	CIC_2_OUT37 = 456,
	CIC_2_OUT38 = 457,
	CIC_2_OUT39 = 458,
	CIC_2_OUT40 = 459,
	CIC_2_OUT41 = 460,
	CIC_2_OUT42 = 461,
	CIC_2_OUT43 = 462,
	CIC_2_OUT44 = 463,
	CIC_2_OUT45 = 464,
	CIC_2_OUT46 = 465,
	CIC_2_OUT47 = 466,
	CIC_2_OUT18 = 467,
	CIC_2_OUT19 = 468,
	CIC_2_OUT22 = 469,
	CIC_2_OUT23 = 470,
	CIC_2_OUT50 = 471,
	CIC_2_OUT51 = 472,
	CIC_2_OUT66 = 473,
	CIC_2_OUT67 = 474,
	CIC_2_OUT88 = 475,
	CIC_2_OUT89 = 476,
	CIC_2_OUT90 = 477,
	CIC_2_OUT91 = 478,
	CIC_2_OUT92 = 479,
	maxIRQ = 479
} platform_interrupt_t;

#define IRQ_CNODE_BITS 13

#ifdef CONFIG_ARM_HYPERVISOR_SUPPORT
#define GIC400_PPI_TIMER_INTERRUPT 26
#else
#define GIC400_PPI_TIMER_INTERRUPT 27
#endif

#define KERNEL_TIMER_IRQ GIC400_PPI_TIMER_INTERRUPT

#include <arch/machine/gic_pl390.h>

#endif /* !__PLAT_MACHINE_H */
